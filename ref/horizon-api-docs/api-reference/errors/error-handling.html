<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-data/apis/horizon/api-reference/errors/error-handling" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Error Handling | Stellar Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developers.stellar.org/img/docusaurus/dev-docs-preview.png"><meta data-rh="true" name="twitter:image" content="https://developers.stellar.org/img/docusaurus/dev-docs-preview.png"><meta data-rh="true" property="og:url" content="https://developers.stellar.org/docs/data/apis/horizon/api-reference/errors/error-handling"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Error Handling | Stellar Docs"><meta data-rh="true" name="description" content="Itâs important to anticipate errors your users may encounter as you develop on Stellar. In many tutorials throughout our developer documentation, we leave out error handling code to focus on the example. In this section, we will do the opposite and talk specifically about the errors. By the end of this section, you should be able to categorize errors and understand the best way to handle them in your application."><meta data-rh="true" property="og:description" content="Itâs important to anticipate errors your users may encounter as you develop on Stellar. In many tutorials throughout our developer documentation, we leave out error handling code to focus on the example. In this section, we will do the opposite and talk specifically about the errors. By the end of this section, you should be able to categorize errors and understand the best way to handle them in your application."><link data-rh="true" rel="icon" href="/img/docusaurus/favicon-96x96.png"><link data-rh="true" rel="canonical" href="https://developers.stellar.org/docs/data/apis/horizon/api-reference/errors/error-handling"><link data-rh="true" rel="alternate" href="https://developers.stellar.org/docs/data/apis/horizon/api-reference/errors/error-handling" hreflang="en"><link data-rh="true" rel="alternate" href="https://developers.stellar.org/es/docs/data/apis/horizon/api-reference/errors/error-handling" hreflang="es"><link data-rh="true" rel="alternate" href="https://developers.stellar.org/docs/data/apis/horizon/api-reference/errors/error-handling" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://VNSJF5AWIZ-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Horizon","item":"https://developers.stellar.org/docs/data/apis/horizon/"},{"@type":"ListItem","position":2,"name":"API Reference","item":"https://developers.stellar.org/docs/data/apis/horizon/api-reference/"},{"@type":"ListItem","position":3,"name":"Errors","item":"https://developers.stellar.org/docs/data/apis/horizon/api-reference/errors/"},{"@type":"ListItem","position":4,"name":"Error Handling","item":"https://developers.stellar.org/docs/data/apis/horizon/api-reference/errors/error-handling"}]}</script><link rel="alternate" type="application/rss+xml" href="/meetings/rss.xml" title="Stellar Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/meetings/atom.xml" title="Stellar Docs Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZCT4GYX8KN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-ZCT4GYX8KN",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Stellar Docs" href="/opensearch.xml">

<script crossorigin="anonymous" src="https://js.sentry-cdn.com/efc31f19f9c54082b8d993bfb62eee57.min.js"></script>





<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-M2JLH37",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>
<meta name="facebook-domain-verification" content="d0o7hha86jfxvtqyxz3d9i5wtfanmy">
<link rel="preconnect" href="https://dev.visualwebsiteoptimizer.com">
<script id="vwoCode">window._vwo_code||function(){var e=814004,t=!1,n=window,i=document,o=i.querySelector("#vwoCode"),r="_vwo_"+e+"_settings",s={};try{var a=JSON.parse(localStorage.getItem("_vwo_"+e+"_config"));s=a&&"object"==typeof a?a:{}}catch(e){}var d="session"===s.stT?n.sessionStorage:n.localStorage;code={nonce:o&&o.nonce,use_existing_jquery:function(){return"undefined"!=typeof use_existing_jquery?use_existing_jquery:void 0},library_tolerance:function(){return"undefined"!=typeof library_tolerance?library_tolerance:void 0},settings_tolerance:function(){return s.sT||2e3},hide_element_style:function(){return"{"+(s.hES||"opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;transition:none !important;")+"}"},hide_element:function(){return performance.getEntriesByName("first-contentful-paint")[0]?"":"string"==typeof s.hE?s.hE:"body"},getVersion:function(){return 2.1},finish:function(n){if(!t){t=!0;var o=i.getElementById("_vis_opt_path_hides");o&&o.parentNode.removeChild(o),n&&((new Image).src="https://dev.visualwebsiteoptimizer.com/ee.gif?a="+e+n)}},finished:function(){return t},addScript:function(e){var t=i.createElement("script");t.type="text/javascript",e.src?t.src=e.src:t.text=e.text,o&&t.setAttribute("nonce",o.nonce),i.getElementsByTagName("head")[0].appendChild(t)},load:function(e,t){var o=this.getSettings(),s=i.createElement("script");if(t=t||{},o)s.textContent=o,i.getElementsByTagName("head")[0].appendChild(s),n.VWO&&!VWO.caE||(d.removeItem(r),this.load(e));else{var a=new XMLHttpRequest;a.open("GET",e,!0),a.withCredentials=!t.dSC,a.responseType=t.responseType||"text",a.onload=function(){if(t.onloadCb)return t.onloadCb(a,e);200===a.status||304===a.status?_vwo_code.addScript({text:a.responseText}):_vwo_code.finish("&e=loading_failure:"+e)},a.onerror=function(){if(t.onerrorCb)return t.onerrorCb(e);_vwo_code.finish("&e=loading_failure:"+e)},a.send()}},getSettings:function(){try{var e=d.getItem(r);if(!e)return;return e=JSON.parse(e),Date.now()>e.e?void d.removeItem(r):e.s}catch(e){return}},init:function(){if(!(i.URL.indexOf("__vwo_disable__")>-1)){var t,s=this.settings_tolerance();if(n._vwo_settings_timer=setTimeout((function(){_vwo_code.finish(),d.removeItem(r)}),s),"body"!==this.hide_element()){t=i.createElement("style");var a=this.hide_element(),c=a?a+this.hide_element_style():"",_=i.getElementsByTagName("head")[0];t.setAttribute("id","_vis_opt_path_hides"),o&&t.setAttribute("nonce",o.nonce),t.setAttribute("type","text/css"),t.styleSheet?t.styleSheet.cssText=c:t.appendChild(i.createTextNode(c)),_.appendChild(t)}else{t=i.getElementsByTagName("head")[0],(c=i.createElement("div")).style.cssText="z-index: 2147483647 !important;position: fixed !important;left: 0 !important;top: 0 !important;width: 100% !important;height: 100% !important;background: white !important;display: block !important;",c.setAttribute("id","_vis_opt_path_hides"),c.classList.add("_vis_hide_layer"),t.parentNode.insertBefore(c,t.nextSibling)}var l=window._vis_opt_url||i.URL,p="https://dev.visualwebsiteoptimizer.com/j.php?a="+e+"&u="+encodeURIComponent(l)+"&vn=2.1";-1!==n.location.search.indexOf("_vwo_xhr")?this.addScript({src:p}):this.load(p+"&x=true")}}},n._vwo_code=code,code.init()}()</script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css"><link rel="stylesheet" href="/assets/css/styles.939f515d.css">
<script src="/assets/js/runtime~main.c44c8c2c.js" defer="defer"></script>
<script src="/assets/js/main.5f7bd31c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>








<script>"function"==typeof window.ga&&(window.ga("require","linker"),window.ga("linker:autolink",["www.stellar.org","stellar.org"]))</script>
<noscript>
          <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M2JLH37" height="0" width="0" style="display:none;visibility:hidden"></iframe>
          </noscript><div id="__docusaurus"><link rel="preload" as="image" href="/img/docusaurus/stellar-logo.svg"><link rel="preload" as="image" href="/img/docusaurus/stellar-logo-dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/docusaurus/stellar-logo.svg" alt="Stellar Docs" class="themedComponent_mlkZ themedComponent--light_NVdE" width="100"><img src="/img/docusaurus/stellar-logo-dark.svg" alt="Stellar Docs" class="themedComponent_mlkZ themedComponent--dark_xIcU" width="100"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/build">Build</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/build">Overview</a></li><li class="subtitle"><hr><a href="/docs/build/smart-contracts" class="subtitle"><small>Build Smart Contracts</small></a></li><li><a class="dropdown__link" href="/docs/build/smart-contracts/overview">Introduction</a></li><li><a class="dropdown__link has-nested-items" href="/docs/build/smart-contracts/getting-started">Getting Started</a></li><li><a class="dropdown__link has-nested-items" href="/docs/build/smart-contracts/example-contracts">Example Contracts</a></li><li class="subtitle"><hr><a href="/docs/build/apps" class="subtitle"><small>Build Applications</small></a></li><li><a class="dropdown__link" href="/docs/build/apps/overview">Introduction</a></li><li><a class="dropdown__link" href="/docs/build/apps/application-design-considerations">Application Design Considerations</a></li><li><a class="dropdown__link" href="/docs/build/apps/wallet/overview">Tutorial: Wallet SDK</a></li><li><a class="dropdown__link" href="/docs/build/apps/example-application-tutorial/overview">Tutorial: Payment Application, JavaScript</a></li><li><a class="dropdown__link" href="/docs/build/apps/swift-payment-app">Tutorial: Payment Application, Swift</a></li><li><a class="dropdown__link" href="/docs/build/apps/ingest-sdk/overview">Tutorial: Network Ingestion Pipeline</a></li><li><a class="dropdown__link" href="/docs/build/apps/guestbook/overview">Tutorial: Passkey Dapp</a></li><li><a class="dropdown__link" href="/docs/build/apps/dapp-frontend">Tutorial: Dapp Frontend</a></li><li><a class="dropdown__link" href="/docs/build/apps/smart-wallets">Smart Wallets</a></li><li class="subtitle"><hr><a href="/docs/build/guides" class="subtitle"><small>How-To Guides</small></a></li><li><a class="dropdown__link" href="/docs/build/guides/auth">Contract Authorization</a></li><li><a class="dropdown__link" href="/docs/build/guides/conventions">Contract Conventions</a></li><li><a class="dropdown__link" href="/docs/build/guides/events">Contract Events</a></li><li><a class="dropdown__link" href="/docs/build/guides/storage">Contract Storage</a></li><li><a class="dropdown__link" href="/docs/build/guides/testing">Contract Testing</a></li><li><a class="dropdown__link" href="/docs/build/guides/dapps">Dapp Development</a></li><li><a class="dropdown__link" href="/docs/build/guides/fees">Fees &amp; Metering</a></li><li><a class="dropdown__link" href="/docs/build/guides/freighter">Freighter Wallet</a></li><li><a class="dropdown__link" href="/docs/build/guides/basics">Stellar Basics</a></li><li><a class="dropdown__link" href="/docs/build/guides/rpc">RPC</a></li><li><a class="dropdown__link" href="/docs/build/guides/archival">State Archival</a></li><li><a class="dropdown__link" href="/docs/build/guides/tokens">Stellar Asset Contract Tokens</a></li><li><a class="dropdown__link" href="/docs/build/guides/transactions">Transactions</a></li><li><a class="dropdown__link" href="/docs/build/guides/conversions">Type Conversions</a></li><li class=""><hr><a href="/docs/build/security-docs" class="dropdown__link has-nested-items">Security Best Practices</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/learn/fundamentals">Learn</a><ul class="dropdown__menu"><li class="subtitle"><hr><a href="/docs/learn/fundamentals" class="subtitle"><small>Core Concepts</small></a></li><li><a class="dropdown__link" href="/docs/learn/fundamentals/stellar-stack">Stellar Stack</a></li><li><a class="dropdown__link" href="/docs/learn/fundamentals/networks">Networks</a></li><li><a class="dropdown__link" href="/docs/learn/fundamentals/lumens">Lumens (XLM)</a></li><li><a class="dropdown__link" href="/docs/learn/fundamentals/stellar-consensus-protocol">Stellar Consensus Protocol (SCP)</a></li><li><a class="dropdown__link has-nested-items" href="/docs/learn/fundamentals/stellar-data-structures">Data Structures</a></li><li><a class="dropdown__link has-nested-items" href="/docs/learn/fundamentals/transactions">Operations &amp; Transactions</a></li><li><a class="dropdown__link" href="/docs/learn/fundamentals/fees-resource-limits-metering">Fees &amp; Metering</a></li><li><a class="dropdown__link" href="/docs/learn/fundamentals/stellar-ecosystem-proposals">Stellar Ecosystem Proposals (SEPs)</a></li><li><a class="dropdown__link has-nested-items" href="/docs/learn/fundamentals/contract-development">Smart Contracts</a></li><li><a class="dropdown__link has-nested-items" href="/docs/learn/fundamentals/data-format">Data Format</a></li><li><a class="dropdown__link" href="/docs/learn/fundamentals/anchors">Ramps (anchors)</a></li><li><a class="dropdown__link" href="/docs/learn/fundamentals/liquidity-on-stellar-sdex-liquidity-pools">SDEX</a></li><li class=""><hr><a href="/docs/learn/glossary" class="dropdown__link">Glossary</a></li><li><a class="dropdown__link" href="/docs/learn/migrate">Migrate from Another Chain</a></li><li><a class="dropdown__link" href="/docs/learn/interactive">Interactive Learning</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/tokens">Tokens</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/tokens">Stellar Assets &amp; Contract Tokens</a></li><li><a class="dropdown__link" href="/docs/tokens/anatomy-of-an-asset">Assets Overview</a></li><li><a class="dropdown__link" href="/docs/tokens/quickstart">Quickstart Guide</a></li><li><a class="dropdown__link" href="/docs/tokens/control-asset-access">Asset Design Considerations</a></li><li><a class="dropdown__link" href="/docs/tokens/stellar-asset-contract">Stellar Asset Contract</a></li><li><a class="dropdown__link" href="/docs/tokens/token-interface">Token Interface</a></li><li><a class="dropdown__link" href="/docs/tokens/how-to-issue-an-asset">Tutorial: Issue an Asset</a></li><li><a class="dropdown__link" href="/docs/tokens/publishing-asset-info">Publish Asset Information</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/data">Data</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/data">Overview</a></li><li class="subtitle"><hr><a href="/docs/data/analytics" class="subtitle"><small>Analytics</small></a></li><li><a class="dropdown__link" href="/docs/data/analytics/hubble">Hubble</a></li><li><a class="dropdown__link" href="/docs/data/analytics/analytics-providers">Providers</a></li><li class="subtitle"><hr><a href="/docs/data/apis" class="subtitle"><small>API</small></a></li><li><a class="dropdown__link" href="/docs/data/apis/rpc">RPC</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/data/apis/horizon">Horizon</a></li><li><a class="dropdown__link" href="/docs/data/apis/migrate-from-horizon-to-rpc">Migrate Horizon to RPC</a></li><li><a class="dropdown__link" href="/docs/data/apis/api-providers">Providers</a></li><li class="subtitle"><hr><a href="/docs/data/indexers" class="subtitle"><small>Indexers</small></a></li><li><a class="dropdown__link" href="/docs/data/indexers/build-your-own">Build Your Own</a></li><li><a class="dropdown__link" href="/docs/data/indexers/indexer-providers">Providers</a></li><li class="subtitle"><hr><a href="/docs/data/oracles" class="subtitle"><small>Oracles</small></a></li><li><a class="dropdown__link" href="/docs/data/oracles">Providers</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/tools">Tools</a><ul class="dropdown__menu"><li class="subtitle"><hr><small>Developer Tools</small></li><li><a class="dropdown__link" href="/docs/tools/sdks">SDKs</a></li><li><a class="dropdown__link" href="/docs/tools/cli">Stellar CLI</a></li><li><a class="dropdown__link" href="/docs/tools/lab">Lab</a></li><li><a class="dropdown__link" href="/docs/tools/quickstart">Quickstart</a></li><li><a class="dropdown__link" href="/docs/tools/developer-tools/openzeppelin-contracts">OpenZeppelin Contracts</a></li><li><a class="dropdown__link has-nested-items" href="/docs/tools/developer-tools">More Developer Tools</a></li><li class="subtitle"><hr><small>Ramps</small></li><li><a class="dropdown__link" href="/docs/tools/ramps/moneygram">MoneyGram Ramps</a></li><li class="subtitle"><hr><small>Infra Tools</small></li><li><a class="dropdown__link" href="/docs/tools/infra-tools/cross-chain">Cross-Chain</a></li><li class="subtitle"><hr><small>SDF Platforms</small></li><li><a class="dropdown__link" href="/platforms/anchor-platform">Anchor Platform</a></li><li><a class="dropdown__link" href="/platforms/stellar-disbursement-platform">Stellar Disbursement Platform</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/networks">Networks</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/networks">Network Configuration</a></li><li><a class="dropdown__link" href="/docs/networks/software-versions">Software Versions</a></li><li><a class="dropdown__link" href="/docs/networks/resource-limits-fees">Resource Limits &amp; Fees</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/validators">Validators</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/validators">Validators Introduction</a></li><li><a class="dropdown__link" href="/docs/validators/admin-guide">Admin Guide</a></li><li><a class="dropdown__link" href="/docs/validators/tier-1-orgs">Tier 1 Organizations</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/data/apis/horizon/api-reference/errors/error-handling" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/es/docs/data/apis/horizon/api-reference/errors/error-handling" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">EspaÃ±ol</a></li></ul></div><a href="https://github.com/stellar/stellar-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/data/apis">APIs Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/data/apis/rpc">RPC</a><button aria-label="Expand sidebar category &#x27;RPC&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/data/apis/horizon">Horizon</a><button aria-label="Collapse sidebar category &#x27;Horizon&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/data/apis/horizon/admin-guide">Admin Guide</a><button aria-label="Expand sidebar category &#x27;Admin Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/data/apis/horizon/api-reference">API Reference</a><button aria-label="Collapse sidebar category &#x27;API Reference&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/data/apis/horizon/api-reference/resources">Resources</a><button aria-label="Expand sidebar category &#x27;Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/data/apis/horizon/api-reference/structure">Structure</a><button aria-label="Expand sidebar category &#x27;Structure&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/data/apis/horizon/api-reference/aggregations">Aggregations</a><button aria-label="Expand sidebar category &#x27;Aggregations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/data/apis/horizon/api-reference/errors">Errors</a><button aria-label="Collapse sidebar category &#x27;Errors&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data/apis/horizon/api-reference/errors/response">Error Response</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/data/apis/horizon/api-reference/errors/error-handling">Error Handling</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/data/apis/horizon/api-reference/errors/http-status-codes">HTTP Status Codes</a><button aria-label="Expand sidebar category &#x27;HTTP Status Codes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/data/apis/horizon/api-reference/errors/result-codes">Result Codes</a><button aria-label="Expand sidebar category &#x27;Result Codes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/data/apis/api-providers">Providers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/data/apis/migrate-from-horizon-to-rpc">Migrate from Horizon to RPC</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_xLCN"><div class="docItemContainer_jfFK"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">APIs</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/data/apis/horizon"><span>Horizon</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/data/apis/horizon/api-reference"><span>API Reference</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/data/apis/horizon/api-reference/errors"><span>Errors</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Error Handling</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Error Handling</h1></header><div class="row"><div class="col col--12 markdown"><p>Itâs important to anticipate errors your users may encounter as you develop on Stellar. In many tutorials throughout our developer documentation, we leave out error handling code to focus on the example. In this section, we will do the opposite and talk specifically about the errors. By the end of this section, you should be able to categorize errors and understand the best way to handle them in your application.</p>
<p>Many actions interact with the Stellar network through the Horizon API, and these possible actions fall into two main categories:</p>
<ol>
<li>Queries (any <code>GET</code> request, like to <code>/accounts</code>)</li>
<li>Transaction submissions (a <code>POST /transactions</code>, <code>POST /transactions_async</code>).</li>
</ol>
<p>There are many possible error codes when executing these actions, and you can typically handle these error codes using the following strategies:</p>
<ul>
<li>Request adjustments: adjusting the request to resolve structural errors with queries or transaction submissions. Suppose youâve included a bad parameter, malformed your XDR, or otherwise didnât follow the endpointâs specification. In these cases, resolve the error by referencing the details or result codes of the error response.</li>
<li>Polling and retrying: this is the recommended way to work around latency or congestion issues encountered along the pipeline between your computer and the Stellar network, which can sometimes happen due to the nature of distributed systems.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="error-handling-for-queries">Error Handling for Queries<a href="#error-handling-for-queries" class="hash-link" aria-label="Direct link to Error Handling for Queries" title="Direct link to Error Handling for Queries">â</a></h2>
<p>Many <code>GET</code> requests have specific parameter requirements, and while the SDKs can help enforce them, you can still pass invalid arguments (for example, an asset string that isnât <a href="https://github.com/stellar/stellar-protocol/blob/master/ecosystem/sep-0011.md#asset-trustlineasset" target="_blank" rel="noopener noreferrer">SEP-11</a> compatible) that error out every time. In this scenario, thereâs nothing you can do aside from following the API specification. The <code>extras</code> field of the error response will often clue you in on where to look and what to look for.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">bash</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain"> https://horizon-testnet.stellar.org/claimable_balances/0000 </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> jq </span><span class="token string" style="color:#e3116c">&#x27;.extras&#x27;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;invalid_field&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;id&quot;</span><span class="token plain">,</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;reason&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Invalid claimable balance ID&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre></div></div></div></div></div>
<p>Note that the SDKs make it a point to distinguish an invalid request (as above) versus a missing resource (a <code>404 Not Found</code>) (for example, the generic <code>NetworkError</code> versus a <code>NotFoundError</code> in the JavaScript SDK), where the latter might not be considered an error depending on your situation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="error-handling-for-transaction-submissions">Error Handling for Transaction Submissions<a href="#error-handling-for-transaction-submissions" class="hash-link" aria-label="Direct link to Error Handling for Transaction Submissions" title="Direct link to Error Handling for Transaction Submissions">â</a></h2>
<p>Horizon currently supports two types of transaction submission endpoints:</p>
<ol>
<li><code>/transactions_async</code>: Horizon submits a transaction to Stellar-Core in an asynchronous manner and passes the relevant Stellar-Core response back immediately to the client. It is then the client&#x27;s responsibility to poll for the status of that transaction.</li>
<li><code>/transactions</code>: Horizon submits a transaction to Stellar-Core and then waits for it to be ingested into its database. It will either return a success (200), failure (400) or a timeout response (504), after which it is the client&#x27;s responsibility to poll for the status of the transaction.</li>
</ol>
<p>Note that polling the transaction hash will return a 404 until it gets included in the ledger, or it fails to do so. In both cases, you will get a response when Horizon has ingested it into the database.</p>
<p>There are some resolution strategies that are common between the 2 endpoints while others strategies are more endpoint specific.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-adjustments">Request Adjustments<a href="#request-adjustments" class="hash-link" aria-label="Direct link to Request Adjustments" title="Direct link to Request Adjustments">â</a></h3>
<p>Certain transaction submission failures also need adjustments to succeed.</p>
<ul>
<li>If the XDR is malformed, or the transaction is otherwise invalid, youâll encounter a <code>400 Bad Request</code> (for example, an invalid source account). Both transactions and their operations can be easily malformed or invalid: look at the <code>extras.result_codes</code> field for details and cross-reference them with the appropriate result codes documentation to determine specifics.</li>
<li>Transaction fees are also a safe adjustment by modifying the fees via a <a href="/docs/build/guides/transactions/fee-bump-transactions">fee-bump transaction</a> if you get a <code>tx_insufficient_fee</code> error. Refer to the <a href="#insufficient-fees-and-surge-pricing">Insufficient Fees and Surge Pricing</a> section later in this document for more information on managing fees and strategies around it.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="polling-and-retrying-transactions">Polling and Retrying Transactions<a href="#polling-and-retrying-transactions" class="hash-link" aria-label="Direct link to Polling and Retrying Transactions" title="Direct link to Polling and Retrying Transactions">â</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="async-transaction-submission">Async Transaction Submission<a href="#async-transaction-submission" class="hash-link" aria-label="Direct link to Async Transaction Submission" title="Direct link to Async Transaction Submission">â</a></h4>
<p>Submissions using the <code>/transactions_async</code> endpoint return an immediate response back from Stellar-Core. There are different actions that clients can take based on the specific <code>tx_status</code> returned:</p>
<ol>
<li><code>PENDING</code>: The submission is successful but the transaction is still waiting to be included in a ledger. You should use the <a href="/docs/data/apis/horizon/api-reference/retrieve-a-transaction">GET /transactions/<!-- -->:transaction_hash</a> endpoint to poll for the submitted transaction and check if it makes into a ledger. Note that even though the submission was successful, it can still fail to get included in the ledger.</li>
<li><code>DUPLICATE</code>: The submission was a duplicate of a previously submitted transaction. This could happen if the client resubmitted the same transaction multiple times.</li>
<li><code>ERROR</code>: The submission did not go through due to an error in Stellar-Core. Take a look at the attached error message for more details, modify your transaction if necessary, and resubmit.</li>
<li><code>TRY_AGAIN_LATER</code>: This indicates that the Stellar-Core instance is currently unable to process submission of this particular transaction. Clients should wait for sometime before resubmitting the transaction. This could happen due to different reasons:<!-- -->
<ul>
<li>There is another transaction from same source account in memory</li>
<li>It has been rejected due to too low inclusion fee and has been resubmitted too soon</li>
</ul>
</li>
</ol>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">JavaScript</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> server </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access maybe-class-name" style="color:#d73a49">Server</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://horizon-testnet.stellar.org&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> contractId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;CA3D5KRYM6CB7OWQ6TWYRR3Z4T7GNZLKERYNZGGA5SOAOPIFY6YQGAXE&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> contract </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">StellarSdk</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Contract</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">contractId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Right now, this is just the default fee for this example.</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> fee </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">StellarSdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">BASE_FEE</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> transaction </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">StellarSdk</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">TransactionBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">account</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> fee </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setNetworkPassphrase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">StellarSdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Networks</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">TESTNET</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// valid for the next 30s</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Add an operation to call increment() on the contract</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addOperation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">contract</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">call</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;increment&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">build</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Sign this transaction with the secret key</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// NOTE: signing is transaction is network specific. Test network transactions</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// won&#x27;t work in the public network. To switch networks, use the Network object</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// as explained above (look for StellarSdk.Network).</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> sourceKeypair </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">StellarSdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Keypair</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">fromSecret</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sourceSecretKey</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">transaction</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sourceKeypair</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">submitAsyncTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">transaction</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;hash:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">hash</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;status:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">tx_status</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;errorResultXdr:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">error_result_xdr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Add a small sleep duration before polling the transaction.</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Second</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">server</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">transactions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">transaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">hash</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">call</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">txResult</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Transaction status:&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> txResult</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></span><br></span></code></pre></div></div></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="synchronous-transaction-submission">Synchronous Transaction Submission<a href="#synchronous-transaction-submission" class="hash-link" aria-label="Direct link to Synchronous Transaction Submission" title="Direct link to Synchronous Transaction Submission">â</a></h4>
<p>Due to the blocking nature of this endpoint, things are a little different compared to the asynchronous strategy. There are 3 possible scenarios that clients can encounter:</p>
<ol>
<li>The submission is successful and Horizon returns the transaction response back. This is the happy path and clients do not need to do anything but wait for Horizon&#x27;s response.</li>
<li>Stellar-Core sends back an <code>ERROR</code> response from the submission. Clients should consult the attached error message and retry the submission again.</li>
<li>Timeouts: Horizon may respond with a <code>504</code> HTTP code. This response is not an error but a warning that your transaction hasn&#x27;t been accepted by the network yet. There could be many possible reasons for the timeout, the most common of which is network congestion, but it could also be due to other transient issues.<!-- -->
<ol>
<li><strong>Polling the transaction hash</strong>: Use the transaction hash in the timeout response and poll the <a href="/docs/data/apis/horizon/api-reference/retrieve-a-transaction">GET /transactions/<!-- -->:transaction_hash</a> endpoint to see if it successfully makes it into a ledger.</li>
<li><strong>Resubmitting the transaction</strong>: Before attempting any resubmissions, you need to make sure your transaction has timed out based on the time bounds you specified. After your transaction has expired, you can confirm it by polling the transaction again and getting a <code>tx_too_late</code> response from Horizon. Rebuild the transaction by updating the timebounds and resubmit the transaction.</li>
</ol>
</li>
</ol>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Do note that resubmitting a transaction is only safe when it is unchanged - same operations, signatures, sequence number, etc... Be careful when working around an error that does require changes to the transaction. It can cause duplicate transactions, which can cause problems - double payments, incorrect trustlines, and more. If you continue to face timeouts on retries, consider using a fee-bump transaction to get into the ledger (after the initial transaction&#x27;s timebound expires) or increasing the maximum fee youâre willing to pay. Read up on <a href="/docs/learn/fundamentals/fees-resource-limits-metering">Surge Pricing and Fee Strategies</a> for more details.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-using-time-bounds">Example: Using Time Bounds<a href="#example-using-time-bounds" class="hash-link" aria-label="Direct link to Example: Using Time Bounds" title="Direct link to Example: Using Time Bounds">â</a></h3>
<p>Timebounds are optional but <strong>highly</strong> recommended as they put a definitive time limit on the transaction&#x27;s finality - after it times out, you will know for sure whether it made it into a ledger. For example, you submit a transaction, and it enters the queue of the Stellar network, but Horizon crashes while giving you a response. Uncertain about the transaction status, you resubmit the transaction (with no changes!) until either (a) Horizon comes back up to give you a reply or (b) your time bounds are exceeded.</p>
<p>There are only two possible results to this scenario: either the transaction makes it into the ledger (exactly once) and Horizon gives you the response, or the transaction never makes it out of the queue, and you receive the corresponding <code>tx_too_late</code> response.</p>
<p>Example implementation:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">JavaScript</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Horizon</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@stellar/stellar-sdk&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> server </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">Horizon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access maybe-class-name" style="color:#d73a49">Server</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://horizon-testnet.stellar.org&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">submitTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">tx</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> timeout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">tx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">timeBounds</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> tx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">timeBounds</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">maxTime</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Always set a reasonable timebound!&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> expiration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">parseInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">timeBounds</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">maxTime</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">submitTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">isNonRetryErrorCase</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// ...do other error handling...</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// the tx no longer has a chance of making it into a ledger</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Date</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">now</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> expiration</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;The transaction timed out.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    timeout </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> timeout </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// start the (linear) back-off process</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">timeout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">submitTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> timeout </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span><br></span></code></pre></div></div></div></div></div>
<p>We assume the existence of a sleep implementation similar to the one <a href="https://stackoverflow.com/a/39914235" target="_blank" rel="noopener noreferrer">here</a>. Be sure to integrate backoff into your retry mechanism. In our example error-handling code above, we implement a simple linear backoff, but there are <a href="https://backoff-utils.readthedocs.io/en/latest/strategies.html#why-are-backoff-strategies-useful" target="_blank" rel="noopener noreferrer">plenty of recommendations</a> for various other strategies. Backoff is important both for maintaining performance and avoiding rate-limiting issues.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-invalid-sequence-numbers">Example: Invalid Sequence Numbers<a href="#example-invalid-sequence-numbers" class="hash-link" aria-label="Direct link to Example: Invalid Sequence Numbers" title="Direct link to Example: Invalid Sequence Numbers">â</a></h3>
<p>These errors typically occur when you have an outdated view of an account. This could be because multiple devices are using this account, you have concurrent submissions happening, or other reasons. The solution is relatively simple: retrieve the account details and try again with an updated sequence number.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">JavaScript</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token comment" style="color:#999988;font-style:italic">// suppose `account` is an outdated `AccountResponse` object</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> tx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access maybe-class-name" style="color:#d73a49">TransactionBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">account</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">/* etc */</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">build</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">submitTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">response</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">status</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">extras</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      error</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">extras</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">result_codes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">transaction</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">TX_BAD_SEQ</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">loadAccount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">account</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">accountId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">response</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> tx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access maybe-class-name" style="color:#d73a49">TransactionBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">/* etc */</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">build</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">submitTransaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...other error conditions...</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span></span><br></span></code></pre></div></div></div></div></div>
<p>Despite the solutionâs simplicity, things can go wrong fast if you donât understand why the error occurred.</p>
<p>Suppose you submit transactions from multiple places in your application simultaneously, and your user spammed a <em>Send Payment</em> button a few times in their impatience. If you send the exact same payment transaction for each tap, naturally, only one will succeed. The others will fail with an invalid sequence number (<code>tx_bad_seq</code>), and if you resubmit blindly with an updated sequence number (as we do above), these payments will also succeed, resulting in more than one payment being made when only one was intended. So <strong>be very careful when resubmitting transactions</strong> that have been modified to work around an error.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="managing-specific-errors">Managing specific Errors<a href="#managing-specific-errors" class="hash-link" aria-label="Direct link to Managing specific Errors" title="Direct link to Managing specific Errors">â</a></h2>
<p>Here, we will cover specific errors commonly encountered during transaction submission and direct you to the appropriate resolution.</p>
<table><thead><tr><th>Result</th><th>Code</th><th>Description</th></tr></thead><tbody><tr><td><code>FAILED</code></td><td>-1</td><td>One of the operations failed (see <a href="/docs/learn/fundamentals/transactions/list-of-operations">List of Operations</a> for errors)</td></tr><tr><td><code>TOO_EARLY</code></td><td>-2</td><td>Ledger <code>closeTime</code> before <code>minTime</code> value in the transaction</td></tr><tr><td><code>TOO_LATE</code></td><td>-3</td><td>Ledger <code>closeTime</code> after <code>maxTime</code> value in the transaction</td></tr><tr><td><code>MISSING_OPERATION</code></td><td>-4</td><td>No operation was specified</td></tr><tr><td><code>BAD_SEQ</code></td><td>-5</td><td>Sequence number does not match source account</td></tr><tr><td><code>BAD_AUTH</code></td><td>-6</td><td>Too few valid signatures / wrong network</td></tr><tr><td><code>INSUFFICIENT_BALANCE</code></td><td>-7</td><td>Fee would bring account below minimum balance; see our section on <a href="/docs/learn/fundamentals/lumens#minimum-balance">Lumens</a> for more info</td></tr><tr><td><code>NO_ACCOUNT</code></td><td>-8</td><td>Source account not found</td></tr><tr><td><code>INSUFFICIENT_FEE</code></td><td>-9</td><td>Fee is too small; see our section on <a href="/docs/learn/fundamentals/fees-resource-limits-metering">Fees</a> for more info</td></tr><tr><td><code>BAD_AUTH_EXTRA</code></td><td>-10</td><td>Unused signatures attached to transaction</td></tr><tr><td><code>INTERNAL_ERROR</code></td><td>-11</td><td>An unknown error occurred</td></tr><tr><td><code>NOT_SUPPORTED</code></td><td>-12</td><td>The transaction type is not supported</td></tr><tr><td><code>FEE_BUMP_INNER_FAILED</code></td><td>-13</td><td>The inner transaction of a fee-bump transaction failed</td></tr><tr><td><code>BAD_SPONSORSHIP</code></td><td>-14</td><td>The sponsorship is not confirmed</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="insufficient-fees-and-surge-pricing">Insufficient fees and surge pricing<a href="#insufficient-fees-and-surge-pricing" class="hash-link" aria-label="Direct link to Insufficient fees and surge pricing" title="Direct link to Insufficient fees and surge pricing">â</a></h3>
<p>See the <a href="/docs/learn/fundamentals/fees-resource-limits-metering">Fees section</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rate-limiting">Rate limiting<a href="#rate-limiting" class="hash-link" aria-label="Direct link to Rate limiting" title="Direct link to Rate limiting">â</a></h3>
<p>Horizon may rate limit requests and return <code>429 Too Many Requests</code> error when exceeding the rate limits. If using your own instance, you may want to either increase or disable rate limiting. If you&#x27;re using a third-party Horizon instance, you may want to deploy your own to have more control over this configuration or send requests less frequently.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="insufficient-xlm-balance">Insufficient XLM balance<a href="#insufficient-xlm-balance" class="hash-link" aria-label="Direct link to Insufficient XLM balance" title="Direct link to Insufficient XLM balance">â</a></h3>
<p>Any transaction that would reduce an accountâs balance to less than the minimum will be rejected with an <code>INSUFFICIENT_BALANCE</code> error. Likewise, lumen selling liabilities that would reduce an accountâs balance to less than the minimum plus lumen selling liabilities will be rejected with an <code>INSUFFICIENT_BALANCE</code> error.</p>
<p>For more on minimum balances, see our <a href="/docs/learn/fundamentals/lumens#minimum-balance">Lumens section</a>.</p></div></div></div><div class="row"><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/stellar/stellar-docs/edit/main/docs/data/apis/horizon/api-reference/errors/error-handling.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-08-08T16:11:29.000Z" itemprop="dateModified">Aug 8, 2025</time></b> by <b>Bri Wylde</b></span></div></div></footer></div></div></article><div class="row"><div class="col col--12"><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/data/apis/horizon/api-reference/errors/response"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Error Response</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/data/apis/horizon/api-reference/errors/http-status-codes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">HTTP Status Codes</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#error-handling-for-queries" class="table-of-contents__link toc-highlight">Error Handling for Queries</a></li><li><a href="#error-handling-for-transaction-submissions" class="table-of-contents__link toc-highlight">Error Handling for Transaction Submissions</a><ul><li><a href="#request-adjustments" class="table-of-contents__link toc-highlight">Request Adjustments</a></li><li><a href="#polling-and-retrying-transactions" class="table-of-contents__link toc-highlight">Polling and Retrying Transactions</a></li><li><a href="#example-using-time-bounds" class="table-of-contents__link toc-highlight">Example: Using Time Bounds</a></li><li><a href="#example-invalid-sequence-numbers" class="table-of-contents__link toc-highlight">Example: Invalid Sequence Numbers</a></li></ul></li><li><a href="#managing-specific-errors" class="table-of-contents__link toc-highlight">Managing specific Errors</a><ul><li><a href="#insufficient-fees-and-surge-pricing" class="table-of-contents__link toc-highlight">Insufficient fees and surge pricing</a></li><li><a href="#rate-limiting" class="table-of-contents__link toc-highlight">Rate limiting</a></li><li><a href="#insufficient-xlm-balance" class="table-of-contents__link toc-highlight">Insufficient XLM balance</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.stellar.org/developers-blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Blog<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://quest.stellar.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stellar Quest<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://fastcheapandoutofcontrol.com/tutorial" target="_blank" rel="noopener noreferrer" class="footer__link-item">Soroban Quest<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@StellarDevelopmentFoundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://m.twitch.tv/stellarorg/home" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitch<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stellar.expert" target="_blank" rel="noopener noreferrer" class="footer__link-item">Explorer<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://lab.stellar.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Lab<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://status.stellar.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://dashboard.stellar.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dashboard<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tools">All Tools</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/stellar/stellar-docs?tab=readme-ov-file#contributing" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute to Docs<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/stellardev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/meetings">Developer Meetings</a></li><li class="footer__item"><a href="https://groups.google.com/g/stellar-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Google Group<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stellar.stackexchange.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Exchange<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://communityfund.stellar.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stellar Community Fund<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">About</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stellar.org/foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">About SDF<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stellar.org/foundation/careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stellar.org/events" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://stellar.org/foundation/grants-and-funding" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants &amp; Funding<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>